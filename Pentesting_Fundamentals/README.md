# **Pentesting Fundamentals**

## **Penetration Testing Ethics**

- Hãy nhớ lại rằng Penetration Testing là một cuộc kiểm tra được ủy quyền về bảo mật và phòng thủ của hệ thống máy tính theo sự đồng ý của chủ sở hữu hệ thống. Tính hợp pháp của việc thâm nhập khá rõ ràng theo nghĩa này; bất cứ điều gì nằm ngoài thỏa thuận này được coi là trái phép.

- Trước khi thử nghiệm thâm nhập bắt đầu, một cuộc thảo luận chính thức diễn ra giữa người thử nghiệm thâm nhập và chủ sở hữu hệ thống. Các công cụ, kỹ thuật và hệ thống khác nhau sẽ được thử nghiệm đã được thống nhất. Cuộc thảo luận này tạo thành phạm vi của thỏa thuận thử nghiệm thâm nhập và sẽ xác định quá trình thử nghiệm thâm nhập diễn ra.

- Người kiểm tra thâm nhập thường sẽ phải đối mặt với các quyết định có khả năng gây nghi ngờ về mặt đạo đức trong quá trình kiểm tra thâm nhập. Ví dụ: họ đang có quyền truy cập vào cơ sở dữ liệu và được cung cấp dữ liệu có khả năng nhạy cảm. Hoặc có lẽ họ đang thực hiện một cuộc tấn công lừa đảo vào một nhân viên để kiểm tra an ninh con người của một tổ chức. Nếu hành động đó đã được thống nhất trong giai đoạn đầu, thì đó là hợp pháp -- tuy nhiên nếu không thì sẽ có vấn đề về mặt đạo đức.

- Hacker được sắp xếp thành ba loại mũ, trong đó đạo đức và động cơ đằng sau hành động của họ xác định loại mũ mà họ được xếp vào. Hãy bao gồm ba điều này trong bảng dưới đây:

![](./img_pf/Screenshot%202023-07-13%20090945.png)

> `Rules of Engagement (ROE)`

- ROE là một tài liệu được tạo ở giai đoạn đầu của cam kết thử nghiệm thâm nhập. Tài liệu này bao gồm ba phần chính (được giải thích trong bảng bên dưới), chịu trách nhiệm cuối cùng trong việc quyết định cách thức thực hiện hợp đồng.

![](./img_pf/Screenshot%202023-07-13%20091246.png)

## **Penetration Testing Methodologies**

- Trước khi thảo luận về một số phương pháp tiêu chuẩn ngành khác nhau, chúng ta nên lưu ý rằng tất cả chúng đều có chủ đề chung về các giai đoạn sau:

![](./img_pf/Screenshot%202023-07-13%20092953.png)

> `OSSTMM`

- [`The Open Source Security Testing Methodology Manual`](https://www.isecom.org/OSSTMM.3.pdf) cung cấp một khuôn khổ chi tiết về các chiến lược thử nghiệm cho các hệ thống, phần mềm, ứng dụng, thông tin liên lạc và khía cạnh con người của an ninh mạng.

- Phương pháp tập trung chủ yếu vào cách các hệ thống, ứng dụng này giao tiếp, vì vậy nó bao gồm một phương pháp cho:
  - Telecommunications (phones, VoIP, etc.)
  - Wired Networks
  - Wireless communications

> `OWASP`

- [`"Open Web Application Security Project"`](https://owasp.org/) là một khuôn khổ dựa trên cộng đồng và được cập nhật thường xuyên, chỉ được sử dụng để kiểm tra tính bảo mật của các ứng dụng và dịch vụ web.

![](./img_pf/Screenshot%202023-07-13%20093630.png)

> `NIST Cybersecurity Framework 1.1`

- [`NIST Cybersecurity Framework`](https://www.nist.gov/cyberframework) là một khuôn khổ phổ biến được sử dụng để cải thiện các tiêu chuẩn an ninh mạng của một tổ chức và quản lý rủi ro của các mối đe dọa mạng. Khung này là một đề cập đáng trân trọng vì tính phổ biến và chi tiết của nó.

- Khung này cung cấp hướng dẫn về kiểm soát bảo mật & điểm chuẩn để thành công cho các tổ chức từ cơ sở hạ tầng quan trọng (nhà máy điện, v.v.) cho đến thương mại. Có một phần giới hạn trong hướng dẫn tiêu chuẩn về phương pháp mà người thử nghiệm thâm nhập nên thực hiện.

> `NCSC CAF`

- [`NCSC CAF`](https://www.ncsc.gov.uk/collection/caf/caf-principles-and-guidance) là một khuôn khổ mở rộng gồm mười bốn nguyên tắc được sử dụng để đánh giá rủi ro của các mối đe dọa mạng khác nhau và khả năng phòng thủ của một tổ chức trước những mối đe dọa này.

- Khung này áp dụng cho các tổ chức được coi là thực hiện "các hoạt động và dịch vụ cực kỳ quan trọng" như cơ sở hạ tầng quan trọng, ngân hàng và những thứ tương tự. Khung chủ yếu tập trung vào và đánh giá các chủ đề sau:
  - Data security
  - System security
  - Identity and access control
  - Resiliency
  - Monitoring
  - Response and recovery planning

![](./img_pf/Screenshot%202023-07-13%20100734.png)

## **Black box, White box, Grey box Penetration Testing**

![](./img_pf/Screenshot%202023-07-13%20100906.png)

> `Black-Box Testing`

- Quá trình thử nghiệm này là một quy trình cấp cao trong đó người thử nghiệm không được cung cấp bất kỳ thông tin nào về hoạt động bên trong của ứng dụng hoặc dịch vụ.

- Người kiểm tra hoạt động như một người dùng thông thường kiểm tra chức năng và tương tác của ứng dụng hoặc phần mềm. Thử nghiệm này có thể liên quan đến việc tương tác với giao diện, tức là các nút và thử nghiệm để xem liệu kết quả mong muốn có được trả về hay không. Không có kiến thức về lập trình hoặc hiểu biết về chương trình là cần thiết cho loại thử nghiệm này.

- Thử nghiệm hộp đen tăng đáng kể lượng thời gian dành cho giai đoạn thu thập thông tin và liệt kê để hiểu bề mặt tấn công của mục tiêu.

> `Grey-Box Testing`

- Quá trình thử nghiệm này là phổ biến nhất cho những thứ như thử nghiệm thâm nhập. Nó là sự kết hợp của cả quy trình kiểm thử hộp đen và hộp trắng. Người kiểm tra sẽ có một số kiến thức hạn chế về các thành phần bên trong của ứng dụng hoặc phần mềm. Tuy nhiên, nó sẽ tương tác với ứng dụng như thể đó là một kịch bản hộp đen và sau đó sử dụng kiến thức của họ về ứng dụng để thử và giải quyết các vấn đề khi họ tìm thấy chúng.

- Với thử nghiệm Grey-Box, kiến thức hạn chế được cung cấp giúp tiết kiệm thời gian và thường được chọn cho các bề mặt tấn công cực kỳ cứng.

> `White-Box Testing`

- Quá trình thử nghiệm này là một quy trình cấp thấp thường được thực hiện bởi nhà phát triển phần mềm biết lập trình và logic ứng dụng. Người kiểm tra sẽ kiểm tra các thành phần bên trong của ứng dụng hoặc phần mềm và, ví dụ, đảm bảo rằng các chức năng cụ thể hoạt động chính xác và trong một khoảng thời gian hợp lý.

- Người kiểm thử sẽ có kiến thức đầy đủ về ứng dụng và hành vi dự kiến của nó và tốn nhiều thời gian hơn so với kiểm thử hộp đen. Kiến thức đầy đủ trong kịch bản thử nghiệm Hộp trắng cung cấp phương pháp thử nghiệm đảm bảo toàn bộ bề mặt tấn công có thể được xác thực.
